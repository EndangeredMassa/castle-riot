module.exports = class MiniMap
  constructor: (player, map) ->
    el = $("#map")
    imgClass = if player.isGuard then "guard-image" else "thief-image"
    icon = $("<span>", id: "mini-map-icon", "class": imgClass)
    el.append icon

    ratio = el.height() / (map.height * map.cellSize)

    updatePosition = ->
      newX = player.sprite.x * ratio - 10
      newY = player.sprite.y * ratio - 25
      icon.css left: newX, top: newY

    setInterval updatePosition, 50
