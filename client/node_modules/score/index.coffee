module.exports = class Score
  @View: require "./view"

  constructor: (@total = 0) ->
    @listeners = change: []

  on: (name, func) ->
    @listeners[name] ?= []
    @listeners[name].push func

  trigger: (name, args...) ->
    @listeners[name] ?= []
    func(args...) for func in @listeners[name]

  add: (num) ->
    @total += num
    @trigger "change", @total
